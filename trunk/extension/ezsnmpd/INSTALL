eZ SNMPd extension 0.1 installation instructions

- install eZ Publish


- install and activate the extension as per standard eZ Publish 4 procedures (regenerate autoloads)


- make sure you have the net-snmp service installed and properly configured with at least a basic configuration

    a simple way is to run the following command:
    snmpget -v 2c -c public localhost system.sysName.0
    (change the '-c public' param to suit your snmp community string)


- alter the snmpd.conf file (usually found in /etc/snmp) and restart the service. Example line to add:

    pass .1.3.6.1.4.1.33120.1 \var\www\eZ\extension\ezsnmpd\bin\shell\ezSNMPagent.sh

    or

    pass .1.3.6.1.4.1.33120.1 D:\htdocs\eZ\extension\ezsnmpd\bin\win\ezSNMPagent.bat

    (change the path to the ezSNMPagent script according to your eZ Publish installation)


- test that the extension works by running

    snmpget -v 2c -c public localhost 1.3.6.1.4.1.33120.1.2.1.1.0

    (change the '-c public' param above to suit your snmp community string)


- if the above command results in an error message, test that the ezSNMPagent.php script is working properly

    launch that script from a command line (remember to move first to the eZ Publish base directory)
    the script should start and wait for commands, without echoing anything to screen
    type PING [enter]. The script should answer PONG
    type GET [enter] 1.3.6.1.4.1.33120.1.2.1.1.0 [enter]. The script should answer something like this:
    1.3.6.1.4.1.33120.1.2.1.1.0
    integer
    44
    type QUIT [enter]


- you can retrieve the eZ Publish MIB to install in monitoring tools by pointing the browser at

    http://my.ezpublish.site/index.php/siteaccess/snmp/mib

    and save it as EZSYSTEMS-MIB.txt. Please note that by default that page is world-readable.
